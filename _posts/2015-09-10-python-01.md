---
author: itxuye
comments: true
date: 2015-09-10 22:54:08 +0800
layout: post
slug: python-01
title: python基础入门的坑
postid: 22
categories: 
- python
tags:
- python
--- 
很久很久之前就想在java语言外选择一门可以拓展的语言，在go和python之间犹豫了很久，最后还是选择了python语言.觉得十分优美且强大。花了大半天简单的入门了下python的基础语法,是的，然后我就想多爬几层，看python标准库想找点可以实现网络的爬虫的库来看看,发现urllib2库的代码好长好长，是的，对我这种记忆不好的人，写起来好麻烦。
<!-- more -->
在知乎上，有人推荐我学习request，但是一开始就遇到个坑，在安装python一些库文件时候，可以用```easy_install```或者```pip install```,但是强大的天朝网络又一次差点阻扰了我学习的热情.
当我看到这样的窗口时，我的内心几乎是崩溃的.(程序员每日翻墙）  
[![python](http://7s1s78.com1.z0.glb.clouddn.com/python1.png)](http://7s1s78.com1.z0.glb.clouddn.com/python1.png)
下面有两种方式下载:  
1.你可以去[http://www.lfd.uci.edu/~gohlke/pythonlibs/](http://www.lfd.uci.edu/~gohlke/pythonlibs/)上下载，含有python各种库文件,搜索request下载，下载文件的后缀名是whl的，你只要改为zip解压缩，然后将里面的request文件夹放到python目录下的lib目录下.  
2.在你的~/User/用户名/pip目录下，新建pip.conf文件(linux)或者pip.ini(windows)，在文件中加上,目前我试过的几个代理,v2ex的代理是可以用的且最好用的:
{% highlight xml %}
[global]
timeout = 6000
index-url = http://pypi.v2ex.com/simple
[install]
use-mirrors = true
mirrors = http://pypi.v2ex.com/simple 
trusted-host = pypi.v2ex.com
{% endhighlight %}    
我推荐各位使用pip install xxx ,因为也有pip uninstall xxx进行相应的卸载操作.使用pip install下载的库文件在python目录lib下的site-packages目录下，并不清楚为什么会在这个目录下，因为只要在lib里面就可以了.但是无论怎样，不影响工程的编写跟运行。
第一个request工程只是简单的访问一个网页，并传回网页html源代码：
{% highlight python %}
import requests
#在python中的字符串可以用单引号。
html = requests.get('http://www.itxuye.com/')
print(html.text)
{% endhighlight %} 
但是很多网站是有反爬虫的机制的,我们就需要获得该网站的请求头***User—Agent***，来伪装自己的代码从而访问该网站。加入```html = requests.get('http://itxuye.com', headers = '你获得的请求头')```，并在文件开头设置字符集```#coding=utf-8 ```,基本上python的配置入门的坑就这么多.
  


本文永久链接[http://itxuye.com/python-01.html](http://itxuye.com/python-01.html),转载请注明出处，欢迎交流讨论。
